function aRCLPowerTable_ConceptionalOverview(){}function aRCLPowerTable_PagingFacility(){}function tableInit(t){return rptTableInit(t)}function rptTableInit(t,e){e||(e={});var n=$("#"+t).length;if(n>1)alert("rptTableInit: containerId "+t+" exists "+n+" times");else{var a=rptGetParentIds(t);if(null!=a.elementId){if(null!==getTableSettings(t))return alert('rptTableInit: Settings for table with id "'+t+'" are already set'),null;var r={containerId:t,rowId:o,idPrefix:"",rowOuterHtml:"",columns:[],hasRadioGroup:!1,idList:[],data:[],insertsAndChanges:[],nextRowIndex:0,requireChangeEvent:!1,configuration:{prefixLength:3,classTableHeader:"tblHeader",classTableArea:"tblArea",classTableRow:"tblRow",classTableField:"tblField",rowIdReplacementTag:"#-RowId-#",sortDialogSuffix:"-dlg",sortDialogBtnAscSuffix:"-dlgAsc-",sortDialogBtnDescSuffix:"-dlgDes-",sortDialogSearchFieldSuffix:"-dlgSearch",sortDialogSearchFieldCountSuffix:"-dlgSearchCount"},sortAndSearch:{map:[],sortDefinition:[],dialogOpen:!1},paging:{hasPaging:!1,activePage:1,lastPageNumber:1,pageSize:50,buttonClass:"rptPgBtn",gotoLabelClass:"rptPgGotoLabel",gotoFieldClass:"rptPgGotoField",indicatorClass:"rptPgIndicator"},displayConfiguration:{sortBtnColorClass:"rptSortBtnColor",sortBtnHighlightClass:"rptSortBtnHighlight",oddClassList:"rptOddRow",evenClassList:"rptEvenRow"},disabledSortControl:!1,disableExportToCsv:e.disabledSortControl},o=null;if($("#"+t).find("."+r.configuration.classTableRow).each(function(){a=rptGetParentIds(this),t==a.parentContainerId&&(o=this.id)}),r.rowId=o,!o)return alert('rptTableInit: Table container of id "'+t+'" does not have a row template of class "'+r.configuration.classTableRow+'".'),null;r.rowOuterHtml=document.getElementById(o).outerHTML;var s="",l="",d="",u=r.configuration.prefixLength;r.idPrefix=t.substr(0,u);var g=null;r.idList.push(r.rowId),$("#"+r.rowId).find("."+r.configuration.classTableField).each(function(){if(a=rptGetParentIds(this),r.rowId==a.parentRowId){if(s=this.id.substring(u),l=this.nodeName,d="INPUT"===l?this.type:"","INPUT"===l)if(this.readonly||(r.requireChangeEvent=!0),"checkbox"===this.type)d=13;else if("radio"===this.type){if(null!=(g=this.getAttribute("data-ct"))&&g.indexOf("bt-radioGroup")>=0){for(s=s.split("#")[0],i=0;i<r.columns.length;i++)if(14==r.columns[i].type&&r.columns[i].name==s)return!0;null!=this.name&&r.idList.push(this.name),r.hasRadioGroup=!0}d=14}else d="text"===this.type?11:"number"===this.type?12:"usernamer"===this.type?11:"password"===this.type?11:"date"==this.type?11:"time"==this.type?11:"tel"==this.type?12:"email"==this.type?11:"url"==this.type?11:0;else"SELECT"===l?(this.readonly||(r.requireChangeEvent=!0),d=50):"TEXTAREA"===l?(this.readonly||(r.requireChangeEvent=!0),d=99):d="SPAN"===l?99:"P"===l?99:"TD"===l?99:0;r.columns.push({name:s,id:this.id,tag:l.toLowerCase(),type:d})}});$("#"+o).find("*").each(function(){""!==this.id&&r.idList.push(this.id)}),r.requireChangeEvent&&document.getElementById(t).addEventListener("change",function(t){_rptHandleRowChangeEvent(r,t)});var p=document.getElementById(r.idPrefix+"paging");if(null!=p){r.paging.hasPaging=!0;var c=p.getAttribute("data-pageSize");isNaN(c)||(r.paging.pageSize=c)}return rut.powerTableIndex.push({containerId:t,settings:r}),$("#"+o).hide(),"t99Lookup"==t||r.disabledSortControl||document.getElementById(t).addEventListener("contextmenu",function(e){rptShowSortControl(t),e.preventDefault()},!1),1==r.paging.hasPaging&&(rptInsertPagingTags(t),rutInitArea(r.idPrefix+"paging")),r}alert("rptTableInit: containerId "+t+" does not exists")}}function rptGetParentIds(t){var e=null,n=null;"string"==typeof t?(e=document.getElementById(t),n=t):t instanceof Event?n=(e=t.currentTarget).id:t instanceof Element?(e=t,n=t.id):alert("Function rptGetParentIds was called with "+JSON.stringify(t)+" It should be Element, Event or a string");for(var a=null,r=null;e=e.parentNode,tag=e.tagName,"BODY"!=tag;)e.classList.contains("tblRow")&&!a&&(a=e.id,hasParentRow=!0),e.classList.contains("tblArea")&&!r&&(r=e.id,hasParentArea=!0);return{elementId:n,parentRowId:a,parentContainerId:r}}function rptGetTableSettings(t){return getTableSettings(t)}function getTableSettings(t){for(var e=null,n=0;n<rut.powerTableIndex.length;n++)rut.powerTableIndex[n].containerId===t&&(e=rut.powerTableIndex[n].settings);return e}function rptAddData(t,e){var n=getTableSettings(t)||null,a=n.paging.hasPaging?0:1;if(!n)return alert('adData: Settings for table with id "'+t+'" are not created. Run initTableSettings first'),null;n.data=e,n.nextRowIndex=e.length,n.sortAndSearch.map=[],n.sortAndSearch.sortDefinition=[],n.sortAndSearch.search="",n.sortAndSearch.foundHits=null,n.sortAndSearch.dialogOpen&&rptCloseSortControl(t);for(var r=0;r<e.length;r++)n.paging.hasPaging&&r%n.paging.pageSize==0&&a++,n.sortAndSearch.map.push([e[r],r,!0,a,n.rowId+"-"+r]);return n.paging.hasPaging&&(n.paging.activePage=e.length>0?1:0,n.paging.lastPageNumber=a,rptResetPagingValues(t)),null}function addData(t,e){alert("Function addData is deprecated. Please use rptAddData")}function displayTable(t){alert("Function displayTable is deprecated. Please use function rptDisplayTable")}function rptDisplayTable(t){var e=getTableSettings(t)||null;if(!e)return alert('rptDisplayTable: Settings for table with id "'+t+'" are not created. Run initTableSettings first'),null;for(var n=0,a=null,r=0;r<e.sortAndSearch.map.length;r++)e.sortAndSearch.map[r][2]&&e.sortAndSearch.map[r][3]==e.paging.activePage&&(rptCreateNewTableRow(e,r),rptDisplayDetailArea(e.sortAndSearch.map[r][4],e.sortAndSearch.map[r][0]),n++,a=document.getElementById(e.sortAndSearch.map[r][4]),1&n?_rptSwapCssClasses(a,e.displayConfiguration.evenClassList||null,e.displayConfiguration.oddClassList||null):_rptSwapCssClasses(a,e.displayConfiguration.oddClassList||null,e.displayConfiguration.evenClassList||null))}function testOutput(t){var e=getTableSettings(t)||null;e.columns[0].name;console.log("Settings And Search Map"),n<5&&console.log(n+" / "+JSON.stringify(e.sortAndSearch.map[n][0]));for(var n=0;n<e.sortAndSearch.map.length;n++)n<5&&console.log(n+" / "+JSON.stringify(e.sortAndSearch.map[n][0]));$(".tblRow").each(function(){}),console.log("data");for(n=0;n<e.data.length;n++)n>40&&console.log(n+" / "+JSON.stringify(e.data[n]))}function createNewTableRow(t,e){alert("Function createNewTableRow is deprecated. Please use rptCreateNewTableRow")}function rptCreateNewTableRow(t,e){for(var n=t.rowOuterHtml,a=null,r=null,i=null,o=t.sortAndSearch.map[e][4].substring(t.rowId.length),s=0;s<t.idList.length;s++)a='"'+t.idList[s]+'"',r='"'+t.idList[s]+o+'"',i=new RegExp(a,"g"),n=n.replace(i,r),a='"#'+t.idList[s]+'"',r='"#'+t.idList[s]+o+'"',i=new RegExp(a,"g"),n=n.replace(i,r);var l=t.sortAndSearch.map[e][4];return i=new RegExp(t.configuration.rowIdReplacementTag,"g"),n=n.replace(i,l),$("#"+t.rowId).before(n),rutInitArea(l),n}function rptInsertNewRowBefore(t,e,n){var a=isNaN(e)?"htmlId":"index";"index"!=a&&(a="end"==e?"end":"htmlId");var r=rptGetTableSettings(t),i=r.nextRowIndex;r.nextRowIndex++;for(var o=r.rowId+"-"+i,s=r.rowOuterHtml,l=null,d=null,u=null,g=0;g<r.idList.length;g++)l='"'+r.idList[g]+'"',d='"'+r.idList[g]+"-"+i+'"',u=new RegExp(l,"g"),s=s.replace(u,d),l='"#'+r.idList[g]+'"',d='"#'+r.idList[g]+"-"+i+'"',u=new RegExp(l,"g"),s=s.replace(u,d);u=new RegExp(r.configuration.rowIdReplacementTag,"g"),s=s.replace(u,o);var p=n||{},c="",f=-1,h=null;if("end"==e)f=r.sortAndSearch.map.length-1,h=r.sortAndSearch.map.length,c=r.rowId,r.sortAndSearch.map.push([p,r.sortAndSearch.map.length,!0,r.paging.lastPageNumber,o]),r.data.push(p),$("#"+c).before(s),rutInitArea(o);else{if("index"==a)c=r.sortAndSearch.map[e][4],f=e;else{c=e;for(g=0;g<r.sortAndSearch.map.length;g++)if(c==r.sortAndSearch.map[g][4]){f=g;break}if(f<0)return}r.sortAndSearch.map.splice(f,0,[p,0,!0,r.sortAndSearch.map[f][3],o]),h=f,r.data.push(p),$("#"+c).before(s),rutInitArea(o)}return null!=n&&rptMoveDataToDisplay(r,h),r.insertsAndChanges.push("i-"+o),o}function moveDataToDisplay(t,e){alert("Function moveDataToDisplay is deprecated. Please use rptMoveDataToDisplay")}function rptMoveDataToDisplay(t,e){t.sortAndSearch.map[e][2]&&t.sortAndSearch.map[e][3]==t.paging.activePage&&rptDisplayDetailArea(t.sortAndSearch.map[e][4],t.sortAndSearch.map[e][0])}function rptAddConversionTable(t,e,n){var a=getTableSettings(t)||null;if(!a)return alert('addConversionTable: Settings for table with id "'+t+'" are not created. Run initTableSettings first'),null;for(var r=!1,i=0;i<a.columns.length;i++)if(a.idPrefix+a.columns[i].name===e){a.columns[i].conversionTable=n,r=!0;break}return r||alert('addConversionTable: fieldId "'+e+'" not found in settings'),null}function clearDisplay(t){alert("Function clearDisplay is deprecated. Please use rptClearDisplay")}function rptClearDisplay(t){var e=getTableSettings(t)||null;return rptSyncTag2Data(t),$("#"+t).find(".tblRow").each(function(){this.getAttribute("id")!==e.rowId&&$(this).remove()}),null}function rptGetDataFromDisplay(t,e){return rptSyncTag2Data(t),idType="index",isNaN(e)&&(idType="htmlId"),"htmlId"==idType?rptGetModelDataOfRowId(t,e):getTableSettings(t).sortAndSearch.map[e][0]}function rptRemoveRow(t,e){idType="index";var n,a=getTableSettings(t),r=-1;if(isNaN(e)){n=e;for(var i=0;i<a.sortAndSearch.map.length;i++)if(a.sortAndSearch.map[i][4]==n){r=i;break}-1==r&&alert("rptRemoveRow: sortAndSearch.map was not initialized")}else e>a.sortAndSearch.map.length&&alert("rptRemoveRow: sortAndSearch.map was not initialized"),n=a.sortAndSearch.map[e][4],r=e;rptSyncTag2Data(t),$("#"+n).remove(),a.sortAndSearch.map.splice(r,1),a.insertsAndChanges.push("d-"+n)}function _rptSortCompare(t,e){var n=rut.powerTableInActiveSortSettings,a=null;var1=null,var2=null,result=0;for(var r=0;r<n.sortAndSearch.sortDefinition.length;r++){if(a=n.sortAndSearch.sortDefinition[r],var1=t[0][a.sortColumn],var2=e[0][a.sortColumn],var1<var2)return-1*a.ascDesc;if(var1>var2)return a.ascDesc}return result}function _rptResetSortCompare(t,e){return t[1]-e[1]}function addSingleSortDefinition(t,e,n){alert("function addSingleSortDefinition is deprecated. Please use rptAddSingleSortDefinition")}function rptAddSingleSortDefinition(t,e,n){getTableSettings(t).sortAndSearch.sortDefinition.push({sortColumn:e,ascDesc:n})}function rptSortPowerTable(t,e){if(rut.powerTableInActiveSortSettings=getTableSettings(t),settings=rut.powerTableInActiveSortSettings,e?settings.sortAndSearch.map.sort(_rptResetSortCompare):settings.sortAndSearch.map.sort(_rptSortCompare),settings.paging.hasPaging)for(var n=-1,a=0;a<settings.sortAndSearch.map.length;a++)settings.sortAndSearch.map[a][2]&&(n++,settings.sortAndSearch.map[a][3]=Math.floor(n/settings.paging.pageSize)+1);rptHideAndMarkDataOnDisplay(t),rut.powerTableInActiveSortSettings=null}function _rptGetIndexOfColumn(t,e){for(var n=null,a=0;a<t.columns.length;a++)if(e===t.columns[a].name){n=a;break}return n}function rptInjectSortDef(t,e,n,a){var r=getTableSettings(t);rptAddSingleSortDefinition(t,n,a);var i=document.getElementById(e);i.classList.remove(r.displayConfiguration.sortBtnColorClass),i.classList.add(r.displayConfiguration.sortBtnHighlightClass),i.textContent=r.sortAndSearch.sortDefinition.length,rptSortPowerTable(t)}function rptResetSortDefinitions(t){var e=getTableSettings(t),n=document.getElementById(t+"-dlg")||null,a=null;if(null!==n)for(var r=0;r<e.sortAndSearch.sortDefinition.length;r++)a=t+"-dlgAsc-"+_rptGetIndexOfColumn(e,e.sortAndSearch.sortDefinition[r].sortColumn),null!==(n=document.getElementById(a))&&(n.classList.remove(e.displayConfiguration.sortBtnHighlightClass),n.classList.add(e.displayConfiguration.sortBtnColorClass),n.innerHTML="&and;"),a=t+"-dlgDes-"+_rptGetIndexOfColumn(e,e.sortAndSearch.sortDefinition[r].sortColumn),null!==(n=document.getElementById(a))&&(n.classList.remove(e.displayConfiguration.sortBtnHighlightClass),n.classList.add(e.displayConfiguration.sortBtnColorClass),n.innerHTML="&or;");e.sortAndSearch.sortDefinition=[],rptSortPowerTable(t,!0)}function rptSetSearchString(t,e){return getTableSettings(t).sortAndSearch.search=e,null}function _rptCallSearch(t){var e=getTableSettings(t),n=document.getElementById(t+e.configuration.sortDialogSearchFieldSuffix).value;if(e.sortAndSearch.search=n,n&&""!=n){rptSearch(t);var a=document.getElementById(t+e.configuration.sortDialogSearchFieldCountSuffix);null!=a&&(a.textContent="found "+e.sortAndSearch.foundHits+" of "+e.sortAndSearch.map.length)}}function rptSearch(t){var e=getTableSettings(t);searchString=e.sortAndSearch.search.toLowerCase();var n=null;e.sortAndSearch.foundHits=0,e.paging.activePage=1;for(var a=e.paging.hasPaging,r=a?0:1,i=e.paging.pageSize,o=0,s=0;s<e.sortAndSearch.map.length;s++){for(var l=0;l<e.columns.length;l++)if("number"==typeof(n=e.sortAndSearch.map[s][0][e.columns[l].name])&&(n=String(n)),"string"==typeof n){if(n.toLowerCase().indexOf(searchString)>-1){e.sortAndSearch.map[s][2]=!0,e.sortAndSearch.foundHits++;break}e.sortAndSearch.map[s][2]=!1}o=e.sortAndSearch.foundHits-1,a&&1==e.sortAndSearch.map[s][2]&&(o%i==0&&r++,e.sortAndSearch.map[s][3]=r)}a&&(e.paging.activePage=1,e.paging.lastPageNumber=r,rptResetPagingValues(t)),rptHideAndMarkDataOnDisplay(t)}function showSortControl(t){alert("Function showSortControl is deprecated. Please use rptShowSortControl")}function rptShowSortControl(t){var e=getTableSettings(t);e.sortAndSearch.dialogOpen?alert("Sort and Search dialog already open"):e.sortAndSearch.dialogOpen=!0;for(var n='<div id="'+t+e.configuration.sortDialogSuffix+'" style="font-size:10px;"><table><tr>',a=null,r=null,i=e.displayConfiguration.sortBtnColorClass,o=null,s=0;s<e.columns.length;s++)null==document.getElementById(e.idPrefix+e.columns[s].name)&&14!=e.columns[s].type||null==document.getElementById(e.idPrefix+e.columns[s].name+"#0")&&14==e.columns[s].type||(o=document.getElementById(e.columns[s].id).getAttribute("name")||e.columns[s].name,a='"'+t+e.configuration.sortDialogBtnAscSuffix+s+'"',r='"'+t+e.configuration.sortDialogBtnDescSuffix+s+'"',n+='<td><span class="col-sm-1">'+o+"</span></td><td><button id="+a+' class="btn btn-sm '+i+'" style="font-size:9px;width:30px;text-align:center;margin:0;" data-toggle="tooltip" data-placement="top" title="Sorts by ascending values of '+o+'. Existing sorts are expanded." onclick=\'rptInjectSortDef("'+t+'", '+a+', "'+e.columns[s].name+"\", 1); '>&and;</button></td><td><button id="+r+' class="btn btn-sm '+i+'" style="font-size:9px;width:30px;text-align:center;margin:0;" data-toggle="tooltip" data-placement="top" title="Sorts descending values of '+o+'. Existing sorts are expanded." onclick=\'rptInjectSortDef("'+t+'", '+r+', "'+e.columns[s].name+"\", -1); '>&or;</button></td></tr>");n+="</table>";var l=null==e.sortAndSearch.search||""==e.sortAndSearch.search?"":"found "+e.sortAndSearch.foundHits+" of "+e.sortAndSearch.map.length;n+='<table class="mt-1"><tr><td><span class="col-sm1 bt-1">Search</span></td><td colspan=2> <input class="col-sm2" type="text" id="'+t+e.configuration.sortDialogSearchFieldSuffix+'" value="'+(e.sortAndSearch.search||"")+'"></input></td></tr><tr><td colspan=3><span id="'+t+e.configuration.sortDialogSearchFieldCountSuffix+'">'+l+"</span></td></tr></table>",n+="</div>",$("#"+t).append(n),(o=document.getElementById(e.containerId).getAttribute("name")||null)?o+=" - Sort and Search":o="Sort and Search";var d=[{text:"Search",id:t+"-btnSearch",click:function(){_rptCallSearch(t)},class:"rclLookupDlgBtn"},{text:"Reset Search",id:t+"-btnResetSearch",click:function(){rptResetSearch(t)},class:"rclLookupDlgBtn"},{text:"Reset Sort",id:t+"-btnResetSort",click:function(){rptResetSortDefinitions(t)},class:"rclLookupDlgBtn"}];if(e.disableExportToCsv||d.push({text:"Export to csv",id:t+"-btnExportToCsv",click:function(){rptSaveAsCsv(t)},class:"rclLookupDlgBtn"}),$("#"+t+e.configuration.sortDialogSuffix).dialog({autoOpen:!1,draggable:!0,title:o,buttons:d,close:function(e,n){rptCloseSortControl(t)}}),document.getElementById(t+e.configuration.sortDialogSearchFieldSuffix).addEventListener("keypress",function(e){"Enter"===e.key&&_rptCallSearch(t)}),$("#"+t+e.configuration.sortDialogSuffix).dialog("open"),0<e.sortAndSearch.sortDefinition.length){var u=null,g=null,p=null;for(s=0;s<e.sortAndSearch.sortDefinition.length;s++)u=_rptGetIndexOfColumn(e,e.sortAndSearch.sortDefinition[s].sortColumn),g=1===e.sortAndSearch.sortDefinition[s].ascDesc?t+e.configuration.sortDialogBtnAscSuffix+u:t+e.configuration.sortDialogBtnDescSuffix+u,(p=document.getElementById(g)).classList.remove(e.displayConfiguration.sortBtnColorClass),p.classList.add(e.displayConfiguration.sortBtnHighlightClass),p.textContent=s+1}rptSortPowerTable(t)}function rptCloseSortControl(t){var e=getTableSettings(t);e.sortAndSearch.dialogOpen=!1,$("#"+t+e.configuration.sortDialogSuffix).remove()}function rptResetSearch(t){var e=getTableSettings(t);e.sortAndSearch.search=null,e.sortAndSearch.foundHits=null,e.paging.activePage=1;for(var n=e.paging.hasPaging,a=n?0:1,r=e.paging.pageSize,i=0;i<e.sortAndSearch.map.length;i++)e.sortAndSearch.map[i][2]=!0,n&&i%r==0&&a++,e.sortAndSearch.map[i][3]=a;n&&(e.paging.activePage=1,e.paging.lastPageNumber=a,rptResetPagingValues(t)),rptHideAndMarkDataOnDisplay(t);var o=null;(o=document.getElementById(t+e.configuration.sortDialogSearchFieldSuffix))&&(o.value=""),(o=document.getElementById(t+e.configuration.sortDialogSearchFieldCountSuffix))&&(o.textContent="")}function rptHideAndMarkDataOnDisplay(t){rptClearDisplay(t),rptDisplayTable(t)}function _rptSwapCssClasses(t,e,n){var a=null;if(null!=e){a=e.split(" ");for(var r=0;r<a.length;r++)t.classList.remove(a[r])}if(null!=n){a=n.split(" ");for(r=0;r<a.length;r++)t.classList.add(a[r])}}function rptSetSingleAreaValues(t,e){rptDisplayDetailArea(t,e)}function rptDisplayDetailArea(t,e){if(null!=t)if(null!=e){var n=t.substr(0,2);if(null!=n){var a="dtlField";"s"==n.charAt(0)?a="searchField":"t"==n.charAt(0)&&(a="tblField");var r=null,i=null,o=null;$("#"+t).find("."+a).each(function(){if(element=this,tag=this.nodeName.toLowerCase(),null==(i=this.id))return!0;if(i.substr(0,2)!=n)return!0;o=i.substr(3),"t"==n.charAt(0)&&(o=o.substring(0,o.lastIndexOf("-")));var a=o.indexOf("#");if(a>=0&&(o=o.substring(0,a)),-1!==o.indexOf(".")){let t=o.split(".");r=e[t[0]][t[1]]}else r=e[o];null==r&&("input"==tag&&"checkbox"===this.type?r=this.defaultChecked?"Y":"N":"input"==tag&&"radio"===this.type?r=this.defaultChecked?this.value:"":"input"==tag||"textarea"==tag?r=this.defaultValue:(tag="select")&&$("#"+t).find("select[id^="+t.substr(0,2)+"]").each(function(){$(this).find("option").each(function(){if(this.defaultSelected)return r=this.value,!1})})),rutSetElementValue(i,r)})}else alert("rptDisplayDetailArea: prefix is missing")}else alert("rptDisplayDetailArea: data is missing");else alert("rptDisplayDetailArea: containerId is missing")}function getDataFromSingleArea(t){alert("Function getDataFromSingleArea is deprecated. Please use rptGetDataFromSingleArea")}function rptGetDataFromSingleArea(containerId){if(null!=containerId){var prefix=containerId.substr(0,2);if(null!=prefix){var foundIndex=-1,data={};if(void 0===rut.powerDetails&&(rut.powerDetails=[]),void 0!==rut.powerDetails){if(null!=rut.powerDetails)for(var i=0;i<rut.powerDetails.length;i++)if(rut.powerDetails[i].id==containerId){data=rut.powerDetails[i].object,foundIndex=i;break}}else rut.powerDetails=[];var tag=null,value=null,id=null,property=null,radioButtonGroups=[],searchClass="s"==containerId.charAt(0)?"searchField":"dtlField";$("#"+containerId).find("."+searchClass).each(function(){element=this,tag=this.nodeName,id=this.id;var foundBtnGrp=!1;if(null==id)return!0;if(id.substr(0,2)!=prefix)return!0;if(property=id.substr(3).split("#")[0],value=rutGetElementValue(id),"INPUT"==tag&&"radio"==this.type){foundBtnGrp=!1;for(var i=0;i<radioButtonGroups.length;i++)if(radioButtonGroups[i].property==property){if(foundBtnGrp=!0,radioButtonGroups[i].name!=this.name)return alert("rptGetDataFromSingleArea: property:"+property+" is used with name:"+radioButtonGroups[i].name+" but id:"+id+" has name:"+this.name),null;value&&(radioButtonGroups[i].value=value)}return foundBtnGrp||radioButtonGroups.push({property:property,"id:":this.id,name:this.name,value:value}),!0}if(null!=data){var escapedValue=value.replace(/"/g,'\\"');if(-1!==property.indexOf(".")){var splitProperties=property.split(".");data[splitProperties[0]]={}}var strToEval="data."+property+'="'+escapedValue+'"';eval(strToEval)}else alert();return!0});for(var i=0;i<radioButtonGroups.length;i++)eval("data."+radioButtonGroups[i].property+'="'+radioButtonGroups[i].value+'"');return foundIndex>-1?rut.powerDetails[foundIndex].object=data:rut.powerDetails.push({id:containerId,object:data}),data}alert("rptGetDataFromDetailArea: prefix is missing")}else alert("rptGetDataFromDetailArea: containerId is missing")}function rptGotoPage(t,e){var n=rptGetTableSettings(t),a=n.paging.activePage,r=e,i=n.idPrefix;if("first"==e)r=1;else if("last"==e)r=n.paging.lastPageNumber;else if("previous"==e)r=n.paging.activePage-1;else if("next"==e)r=n.paging.activePage+1;else if("goto"==e)NaN==(r=Number(rutGetElementValue(i+"pgGotoField")))?r=1:r>n.paging.lastPageNumber?r=n.paging.lastPageNumber:r<1&&(r=1),rutSetElementValue(i+"pgGotoField",r);else if(isNaN(e)){if((r=Number(rutGetElementValue(i+"pg"+e)))<1)return}else r=e+1;var o,s=n.paging.lastPageNumber;r<1&&(r=1),r>s&&(r=s),n.paging.activePage=r,rutSetElementValue(i+"pgFirst",1),rutSetElementValue(i+"pgLast",s);var l=2;"goto;first;last".indexOf(e)>=0?l=2:a>n.paging.activePage&&(l=3);var d=4*Math.floor((n.paging.activePage-l)/4)+1;"first"==e||1==n.paging.activePage?d=1:2==n.paging.activePage&&a>2?d=1:n.paging.activePage>=s-5&&(d=Math.max(s-6,1));for(var u=1;u<=5;u++)o=d+u,rutSetElementValue(i+"pg"+u,o<s?o:" "),$("#"+i+"pg"+u).attr("onclick","rptGotoPage('"+t+"',"+(d+u-1)+")"),o<s?document.getElementById(i+"pg"+u).classList.remove("noPointer"):document.getElementById(i+"pg"+u).classList.add("noPointer");if(n.paging.activePage==Number(rutGetElementValue(i+"pgFirst")))document.getElementById(i+"pgFirst").focus();else if(n.paging.activePage==Number(rutGetElementValue(i+"pgLast")))document.getElementById(i+"pgLast").focus();else for(u=1;u<=5;u++)if(n.paging.activePage==Number(rutGetElementValue(i+"pg"+u))){document.getElementById(i+"pg"+u).focus();break}return rptHideAndMarkDataOnDisplay(t),rutSetElementValue(i+"pgIndicator","Page "+n.paging.activePage+" of "+s),!0}function rptResetPagingValues(t){var e=rptGetTableSettings(t),n=e.idPrefix,a=e.paging.lastPageNumber;rutSetElementValue(n+"pgFirst",a>0?1:0),rutSetElementValue(n+"pgLast",a);for(var r=1,i=0;i<5;i++)r++,rutSetElementValue(n+"pg"+(1+i),r<a?r:" ")," "==r&&document.getElementById(n+"pg"+(1+i)).classList.add("d-none"),r<a?(document.getElementById(n+"pg"+(1+i)).classList.remove("noPointer"),document.getElementById(n+"pg"+(1+i)).classList.remove("d-none")):(document.getElementById(n+"pg"+(1+i)).classList.add("noPointer"),document.getElementById(n+"pg"+(1+i)).classList.add("d-none"));a<=1?(document.getElementById(n+"pgLast").classList.add("d-none"),document.getElementById(n+"pgPrevious").classList.add("d-none"),document.getElementById(n+"pgNext").classList.add("d-none"),document.getElementById(n+"pgGotoLabel").classList.add("d-none"),document.getElementById(n+"pgGotoField").classList.add("d-none")):(document.getElementById(n+"pgLast").classList.remove("d-none"),document.getElementById(n+"pgPrevious").classList.remove("d-none"),document.getElementById(n+"pgNext").classList.remove("d-none"),document.getElementById(n+"pgGotoLabel").classList.remove("d-none"),document.getElementById(n+"pgGotoField").classList.remove("d-none")),0==a?document.getElementById(n+"pgFirst").classList.add("d-none"):document.getElementById(n+"pgFirst").classList.remove("d-none"),document.getElementById(n+"pgFirst").focus(),rutSetElementValue(n+"pgIndicator","Page "+e.paging.activePage+" of "+a);var o=document.getElementById(n+"pgGotoField");o.min=1,o.max=a}function rptInsertPagingTags(t){var e=rptGetTableSettings(t),n=e.idPrefix,a='<div style="display:flex;justify-content:space-between;align-items:center;"><input id="'+n+'pgIndicator" class="'+e.paging.indicatorClass+'" type="text" readonly="true"><div style="display:flex;justify-content:flex-start;align-items:center;"><button id="'+n+'pgGotoLabel" class="'+e.paging.gotoLabelClass+'" onclick="rptGotoPage(\''+t+"','goto');\">Goto</button><input id=\""+n+'pgGotoField" class="'+e.paging.gotoFieldClass+'" type="number" size="2" data-check="dec(4,0)" min="0" onkeypress="rutCheckNumberKeypress(event);" onblur="rutCheckMinMaxValue(event)"></div><div style="display:flex;justify-content:flex-end"><button id="'+n+'pgPrevious" class="'+e.paging.buttonClass+'" onclick="rptGotoPage(\''+t+"','previous');\">&lt;</button><button id=\""+n+'pgFirst" class="'+e.paging.buttonClass+'" onclick="rptGotoPage(\''+t+"','first');\"> </button><button id=\""+n+'pg1" class="'+e.paging.buttonClass+'" onclick="rptGotoPage(\''+t+'\',1);"> </button><button id="'+n+'pg2" class="'+e.paging.buttonClass+'" onclick="rptGotoPage(\''+t+'\',2);"> </button><button id="'+n+'pg3" class="'+e.paging.buttonClass+'" onclick="rptGotoPage(\''+t+'\',3);"> </button><button id="'+n+'pg4" class="'+e.paging.buttonClass+'" onclick="rptGotoPage(\''+t+'\',4);"> </button><button id="'+n+'pg5" class="'+e.paging.buttonClass+'" onclick="rptGotoPage(\''+t+'\',5);"> </button><button id="'+n+'pgLast" class="'+e.paging.buttonClass+'" onclick="rptGotoPage(\''+t+"','last');\"> </button><button id=\""+n+'pgNext" class="'+e.paging.buttonClass+'" onclick="rptGotoPage(\''+t+"','next');\">&gt;</button></div></div>";$("#"+n+"paging").append(a)}function rptGetInsertsAndChanges(t,e){var n=rptGetTableSettings(t),a=[];a.length=n.insertsAndChanges.length;for(var r=0;r<n.insertsAndChanges.length;r++)a[r]={action:n.insertsAndChanges[r].charAt(0),rowId:n.insertsAndChanges[r].substring(2)};return e&&(rptSyncTag2Data(t),n.insertsAndChanges.length=0),a}function _rptHandleRowChangeEvent(t,e){var n=e.target;if(n.id){for(var a=rptGetParentIds(n.id),r=!1,i=0;i<t.insertsAndChanges.length;i++){if(t.insertsAndChanges[i]=="u-"+a.parentRowId){r=!0;break}if(t.insertsAndChanges[i]=="i-"+a.parentRowId){r=!0;break}}r||t.insertsAndChanges.push("u-"+a.parentRowId)}}function rptSaveAsCsv(t,e){var n=rptGetTableSettings(t),a=[],r=[],i=",",o="",s="",l=e||"RCL-PowerTableExport.csv";0<=navigator.language.indexOf("de")&&(i=";");for(var d=0;d<n.columns.length;d++)o=n.columns[d],s=document.getElementById(n.idPrefix+n.columns[d].name).getAttribute("name")||n.columns[d].name,r.push(s);a.push(r.join(i)),r=[];for(var u=0;u<n.sortAndSearch.map.length;u++)if(n.sortAndSearch.map[u][2]){for(d=0;d<n.columns.length;d++)o=n.columns[d],r.push(n.sortAndSearch.map[u][0][o.name]);a.push(r.map(function(t){return'"'+t+'"'}).join(i)),r=[]}rutSaveAsFile(a.join("\r\n"),l,"text/plain;charset=utf-8")}function rptGetModelDataOfRowId(t,e){var n=null;n=null!=t?rptGetTableSettings(t):_rptGetSettingsByRowId(e);var a=e.substring(e.lastIndexOf("-")+1);if(!(a<0||a>=n.data.length||isNaN(a)))return n.data[a]}function rptSyncTag2Data(t){for(var e=rptGetTableSettings(t).insertsAndChanges,n=0;n<e.length;n++)rptSyncOneRow2Data(t,e[n].substring(2))}function rptSyncOneRow2Data(t,e){var n=getTableSettings(t),a=e.substring(e.lastIndexOf("-")+1),r="",o=0,s=null;return $("#"+e).find("."+n.configuration.classTableField).each(function(){if(n.hasRadioGroup){s=null;let t=this.id.substring(n.idPrefix.length);for(t=(t=t.substring(0,t.lastIndexOf("-"))).split("#")[0],i=0;i<n.columns.length;i++)if(t==n.columns[i].name){s=n.columns[i];break}}else s=n.columns[o];switch(s.type){case 11:r=rutGetElementValue(this.id);break;case 12:(r=this.value)&&(r=r.replace(",",""));break;case 13:case 14:let t=this.id.lastIndexOf("-"),e=this.id.substring(0,t);e=e.split("#")[0]+this.id.substring(t),r=rutGetElementValue(e);break;case 50:r=this.options[this.selectedIndex].value;break;case 99:r=$(this).val();break;case 0:r="bt-slider"==this.getAttribute("data-ct")?rutSliderGetValue(this.id):$(this).val()}statement="number"==typeof r?"settings.data["+a+"]."+s.name+"="+r:"settings.data["+a+"]."+s.name+'="'+r+'"',n.data[a][s.name]=r,o++}),n.data[a]}function _rptGetSettingsByRowId(t){var e=null;let n=0;for(var a=0;a<rut.powerTableIndex.length;a++){n=rut.powerTableIndex[a].settings.configuration.prefixLength-1,rut.powerTableIndex[a].containerId.substring(0,n)==t.substring(0,n)&&(e=rut.powerTableIndex[a].settings);break}if(e)return e;alert("rowId does not exist as part of a table")}function rptReplOneRowOfData(t,e,n,a){var r=null;if(r=null!=t?rptGetTableSettings(t):_rptGetSettingsByRowId(e)){var i=e;"end"==e&&(i=r.sortAndSearch.map[r.sortAndSearch.map.length-1][4]);var o=i.substring(i.lastIndexOf("-")+1);r.data[o]=n;var s=rptGetIndexOfRowId(r.containerId,i);s>=0&&(r.sortAndSearch.map[s][0]=r.data[o],a&&s>=0&&s>=0&&rptMoveDataToDisplay(r,s))}else alert("rowId does not exist as part of a table")}function rptGetIndexOfRowId(t,e){for(var n=getTableSettings(t),a=-1,r=0;r<n.sortAndSearch.map.length;r++)if(n.sortAndSearch.map[r][4]==e){a=r;break}return a}function rptSetRowElementValue(t,e,n){var a=t.substring(t.lastIndexOf("-"));rutSetElementValue(e+a,n)}function rptGetRowElementValue(t,e){var n=t.substring(t.lastIndexOf("-"));return rutGetElementValue(e+n)}function rptRemoveTableSettings(t){for(var e=rut.powerTableIndex,n=0;n<rut.powerTableIndex.length;n++)if(rut.powerTableIndex[n].containerId==t){e=rut.powerTableIndex.splice(n,1);break}rut.powerTableIndex=e}function rptFindNextRow(t,e){for(var n=getTableSettings(containerId),a=-1,r=0;r<n.sortAndSearch.map.length;r++)if(n.sortAndSearch.map[r][4]==t){a=r;break}return a}function rptInsertNewRowAfter(t,e,n){var a=e;return isNaN(e)&&(a=rptGetIndexOfRowId(t,e)),(a+=1)>=getTableSettings(t).sortAndSearch.map.length-1?rptInsertNewRowBefore(t,"end",n):rptInsertNewRowBefore(t,a,n)}"undefined"==typeof rut&&(rut={browser:null,powerTableIndex:[],powerTableInActiveSortSettings:null});